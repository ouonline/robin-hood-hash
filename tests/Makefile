# This Makefile is generated by omake: https://github.com/ouonline/omake.git

CXX := g++

ifeq ($(debug), y)
	CXXFLAGS += -g
else
	CXXFLAGS += -O2 -DNDEBUG
endif

TARGET := test_1 test_2 test_perf

.PHONY: all clean distclean

all: $(TARGET)

omake_dep_0_INCLUDE := -I../..

omake_dep_0.test_1.cpp.o: test_1.cpp
	$(CXX) $(CXXFLAGS) -Wall -Werror -Wextra $(omake_dep_0_INCLUDE) -c $< -o $@

test_1_OBJS := omake_dep_0.test_1.cpp.o

test_1: $(test_1_OBJS)
	$(CXX) $(CXXFLAGS) -Wall -Werror -Wextra -o $@ $^

omake_dep_1_INCLUDE := -I../..

omake_dep_1.test_2.cpp.o: test_2.cpp
	$(CXX) $(CXXFLAGS) -Wall -Werror -Wextra $(omake_dep_1_INCLUDE) -c $< -o $@

test_2_OBJS := omake_dep_1.test_2.cpp.o

test_2: $(test_2_OBJS)
	$(CXX) $(CXXFLAGS) -Wall -Werror -Wextra -o $@ $^

omake_dep_2_INCLUDE := -I../..

omake_dep_2.test_perf.cpp.o: test_perf.cpp
	$(CXX) $(CXXFLAGS) -Wall -Werror -Wextra $(omake_dep_2_INCLUDE) -c $< -o $@

test_perf_OBJS := omake_dep_2.test_perf.cpp.o

test_perf: $(test_perf_OBJS)
	$(CXX) $(CXXFLAGS) -Wall -Werror -Wextra -o $@ $^

clean:
	rm -f $(TARGET) $(test_1_OBJS) $(test_2_OBJS) $(test_perf_OBJS)

distclean:
	$(MAKE) clean
